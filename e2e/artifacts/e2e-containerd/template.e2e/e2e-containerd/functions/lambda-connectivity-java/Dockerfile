# syntax=docker/dockerfile:1.7
# Auto-generated by SAM Template Generator
# DO NOT EDIT MANUALLY - Regenerate with: esb build
# Source: template.yaml
# FunctionName: lambda-connectivity-java
FROM public.ecr.aws/lambda/java:21

# ESB Runtime
ENV LAMBDA_ORIGINAL_HANDLER="com.fixtures.connectivity.Handler::handleRequest"
COPY functions/lambda-connectivity-java/lambda-java-wrapper.jar /var/task/lib/lambda-java-wrapper.jar
COPY functions/lambda-connectivity-java/lambda-java-agent.jar /var/task/lib/lambda-java-agent.jar
ENV JAVA_AGENT_PRESENT=1
ENV JAVA_TOOL_OPTIONS="-javaagent:/var/task/lib/lambda-java-agent.jar ${JAVA_TOOL_OPTIONS}"
# Function code
COPY functions/lambda-connectivity-java/src/ ${LAMBDA_TASK_ROOT}/

# Handler
CMD [ "com.runtime.lambda.HandlerWrapper::handleRequest" ]
