# Test Execution Matrix
# Defines which Test Suites run on which ESB environments.

suites:
  smoke:
    description: Fast connectivity tests for all components
    targets:
    - ../scenarios/smoke/
    exclude: []
  standard:
    description: Standard E2E Scenarios (Autoscaling + Standard)
    targets:
    - ../scenarios/autoscaling/
    - ../scenarios/standard/
    exclude: []
  java:
    description: Java Runtime Scenarios
    targets:
    - ../scenarios/java/
    exclude: []

matrix:
# docker runtime
- esb_env: e2e-docker
  deploy_templates:
  - e2e/fixtures/template.part1.yaml
  - e2e/fixtures/template.part2.yaml
  suites:
  - smoke
  - standard
  - java

# containerd runtime
- esb_env: e2e-containerd
  deploy_templates:
  - e2e/fixtures/template.part1.yaml
  - e2e/fixtures/template.part2.yaml
  suites:
  - smoke
  - standard
  - java

# containerd + firecracker runtime (CONTAINERD_RUNTIME=aws.firecracker)
# - esb_env: e2e-firecracker
#   suites:
#   - smoke
#   - standard
