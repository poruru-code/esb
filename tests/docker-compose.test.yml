# Overrides for E2E tests
# Usage: docker compose -f docker-compose.yml -f docker-compose.test.yml up -d
#
# Mount files individually; keep other config files (gateway_log.yaml, SSL, etc.) as-is
# ESB_ENV is used to select the environment-specific config directory

services:
  gateway:
    volumes:
      # Override only the E2E test config files (ESB_ENV-aware paths)
      - ./tests/fixtures/.esb/${ESB_ENV:-default}/config/functions.yml:/app/config/functions.yml:ro
      - ./tests/fixtures/.esb/${ESB_ENV:-default}/config/routing.yml:/app/config/routing.yml:ro
